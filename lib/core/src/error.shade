module core/error (module core/error, module t) =

import prim (Try, ret, bind) as t
import prim (Partial, (->))
import intrinsics (partial)

postfix unwrap_unsafe as (!)
infixl 5 unwrap_or as (?)

class Unwrap self =
    fn unwrap :: self output -> output where Partial
    fn unwrap_or :: self output -> output -> output

fn unwrap_unsafe x = partial (unwrap x)

module Main =

import Prim
import Intrinsics (unsafe, transmute, ($))


type Option a =
    | None
    | Some a

@main
main =
    puts "test\0"
    ExitCode 0


module C =
    foreign puts :: Ptr Byte -> Int32 where Unsafe

puts :: Str -> Int32
puts s =
    let ptr, _ = unsafe (transmute s) :: _, Uint
    unsafe (C.puts ptr)
